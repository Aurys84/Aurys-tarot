<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Aurysi L√©lek K√°rty√°k ‚Äì H√∫z√°s</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f8e9e9; }
    button { margin: 20px; padding: 12px 20px; border: none; border-radius: 8px; background: #d67; color: #fff; cursor: pointer; }
    #card { margin-top: 20px; padding: 20px; background: #222; color: #fff; border-radius: 12px; display: inline-block; }
    img { max-width: 300px; border-radius: 12px; }
  </style>
</head>
<body>
  <h1>Aurysi L√©lek K√°rty√°k üíñ</h1>
  <p>Kattints a gombra, hogy h√∫zz egy k√°rty√°t!</p>
  <button onclick="drawCard()">K√°rtya h√∫z√°sa</button>

  <div id="card" style="display:none;">
    <img id="cardImg" src="" alt="K√°rtya">
    <p id="cardText"></p>
  </div>

<script>
  // ‚Äî‚Äî‚Äî K√ÅRTY√ÅK ‚Äî‚Äî‚Äî
  const cards = Array.from({length: 18}, (_,i) => {
    const n = i + 1;
    return {
      img: `${n}.png`,
      text: `${n}. k√°rtya ‚Äì √ºzenet helye.`
    };
  });

  // ‚Äî‚Äî‚Äî TTS (Felolvas√°s) ‚Äî‚Äî‚Äî
  function speak(text){
    try{
      // Androidon/Chrome-ban seg√≠t, ha el≈ëbb t√∂rl√ºnk minden fut√≥ besz√©det:
      window.speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.lang  = "hu-HU";   // magyar
      u.rate  = 0.95;      // lassabb, l√°gyabb
      u.pitch = 1.05;      // n≈ëiesebb hangsz√≠n
      speechSynthesis.speak(u);
    }catch(e){
      console.warn("TTS nem indult (b√∂ng√©sz≈ë tiltja / nincs t√°mogat√°s).", e);
    }
  }

  // ‚Äî‚Äî‚Äî H√öZ√ÅS ‚Äî‚Äî‚Äî
  let last = null;

  function drawCard(ev){
    if (ev && ev.preventDefault) ev.preventDefault(); // ha gomb <button>-ben lenne formban
    const c = cards[Math.floor(Math.random()*cards.length)];
    last = c;

    const img  = document.getElementById("cardImg");
    const txt  = document.getElementById("cardText");
    const box  = document.getElementById("card");

    img.src = c.img;
    txt.innerText = c.text;
    box.style.display = "block";

    // Minden kattint√°s ut√°n √∫jra olvasson:
    speak(`${c.text}`);
  }

  // ‚Äî‚Äî‚Äî GOMBOK ‚Äî‚Äî‚Äî
  document.addEventListener("DOMContentLoaded", () => {
    const drawBtn = document.querySelector("button[onclick='drawCard()']");
    // biztos, hogy T√ñBBSZ√ñR h√∫zhat√≥ legyen:
    drawBtn.addEventListener("click", drawCard);
  });
</script>
