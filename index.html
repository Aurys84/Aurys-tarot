<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Aurysi Lélek Kártyák</title>
  <style>
    body {
      background-color: #fff8e1;
      font-family: sans-serif;
      text-align: center;
      margin: 0;
      padding: 20px;
      color: #333;
    }

    h1 {
      color: #444;
      margin-bottom: 10px;
    }

    h2 {
      color: #555;
      margin-top: 30px;
      margin-bottom: 15px;
    }

    button {
      padding: 12px 25px;
      font-size: 18px;
      background-color: #c88;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #b77;
    }

    #cardDisplay {
      margin-top: 30px;
    }

    #cardDisplay img {
      width: auto;
      max-width: 90%;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
    }

    #cardText {
      margin-top: 25px;
      font-size: 1.15em;
      color: #333;
      white-space: pre-wrap; /* Megőrzi a sortöréseket */
      text-align: left;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      padding: 20px;
      border: 1px solid #ddd;
      background-color: #fefefe;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      line-height: 1.6;
    }

    .info-section {
      margin-top: 40px;
      padding: 20px;
      background-color: #e0f2f7; /* Világoskék háttér */
      border-radius: 10px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      /* Ezzel rejtjük el alapból */
      display: none; 
    }

    .info-section.visible {
      display: block; /* Ezzel tesszük láthatóvá */
    }

    .info-section p {
      margin-bottom: 10px;
    }

    .info-section ul {
      margin-top: 5px;
      margin-bottom: 15px;
      padding-left: 25px;
    }

    .info-section li {
      margin-bottom: 5px;
    }

    .note {
      font-size: 0.9em;
      color: #666;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>Aurysi Lélek Kártyák</h1>
  <p>Nyomd meg a gombot egy kártya húzásához:</p>
  <button onclick="drawCard()">Kártya Húzása</button>
  <button id="respeakButton" onclick="respeakCard()" style="display:none;">Újra felolvasás</button>
  <button onclick="toggleInfo()">Segítség a hangfelolvasással</button>
  
  <div id="cardDisplay"></div>
  <div id="cardText"></div>

  <div id="infoSection" class="info-section">
    <h2>Ha nincs hangfelolvasás:</h2>
    <p>A weboldal a böngésződ beépített szövegfelolvasó (TTS) funkcióját használja. Ha nem hallasz hangot a kártya húzása után, kérjük, ellenőrizd az alábbi beállításokat:</p>

    <h3>Android telefonon:</h3>
    <ul>
      <li>**Böngésző megnyitása:** Ha a linket egy chat alkalmazásban (pl. Messenger) kaptad, ne ott nyisd meg! Keresd az opciót, hogy **"Megnyitás Chrome-ban"** vagy "Megnyitás a böngészőben", és ott próbáld meg. Az alkalmazások beépített böngészői gyakran nem támogatják a hangfelolvasást.</li>
      <li>**Szövegfelolvasó motor beállítása:**
        <ol>
          <li>Menj a telefon **Beállítások** menüjébe (fogaskerék ikon).</li>
          <li>Keresd meg a **"Rendszer"**, **"Nyelv és bevitel"** vagy **"Kisegítő lehetőségek"** menüpontot.</li>
          <li>Ezen belül keresd a **"Szövegfelolvasás kimenet"** vagy **"TTS beállítások"** opciót.</li>
          <li>Győződj meg róla, hogy a **"Google szövegfelolvasó motor"** van kiválasztva alapértelmezettként.</li>
          <li>A motor melletti fogaskerék ikonra kattintva ellenőrizd a **"Hangadatok telepítése"** menüben, hogy a **"Magyar" nyelv** le van-e töltve. Ha nem, töltsd le.</li>
          <li>Teszteld a hangot a **"Példaszöveg meghallgatása"** funkcióval (ha van ilyen).</li>
        </ol>
      </li>
      <li>**Böngésző engedélyek (Chrome):**
        <ol>
          <li>Nyisd meg a Chrome böngészőt.</li>
          <li>Koppints a jobb felső sarokban lévő három pontra (Menü) > **Beállítások**.</li>
          <li>Görgess le a **"Webhelybeállítások"** vagy "Webhelybeállítások" menüpontig.</li>
          <li>Keresd meg a **"Hang"** vagy **"Automatikus lejátszás"** beállítást, és győződj meg róla, hogy engedélyezve van.</li>
        </ol>
      </li>
    </ul>

    <h3>Windows számítógépen (Chrome böngészővel):</h3>
    <ul>
      <li>**Böngésző frissítése:** Győződj meg róla, hogy a Chrome a legfrissebb verzió.</li>
      <li>**Hangbeállítások ellenőrzése a Windowsban:**
        <ol>
          <li>Nyomd meg a **Windows gombot + I** a Beállítások megnyitásához.</li>
          <li>Menj az **"Idő és nyelv"** > **"Nyelv és régió"** (vagy régebbi Windows-on "Beszed") menüpontra.</li>
          <li>Keresd meg a **"Beszéd"** részt, és győződj meg róla, hogy a magyar nyelv telepítve van és kiválasztva. Szükség esetén telepítsd a magyar "hangcsomagot".</li>
        </ol>
      </li>
      <li>**Böngésző engedélyek (Chrome):**
        <ol>
          <li>Nyisd meg a Chrome böngészőt.</li>
          <li>Kattints a jobb felső sarokban lévő három pontra > **Beállítások**.</li>
          <li>Bal oldalon válaszd az **"Adatvédelem és biztonság"** > **"Webhelybeállítások"** menüpontot.</li>
          <li>Görgess le, és kattints a **"További tartalmi beállítások"** > **"Hang"** (vagy "Automatikus lejátszás") menüpontra.</li>
          <li>Győződj meg róla, hogy az "Engedélyezze a webhelyeknek a hang lejátszását" opció van kiválasztva.</li>
          <li>A "Viselkedés" részben, ha szerepel ott ez az oldal, ellenőrizd, hogy nincs-e "letiltva".</li>
        </ol>
      </li>
    </ul>
    <p class="note">A "Kártya Húzása" gombra kattintás után a böngészőnek engedélyeznie kell a hangfelolvasást. Ha elsőre nem szólal meg, próbáld meg újra, vagy ellenőrizd a böngésző címsora melletti hangszóró ikont, nincs-e elnémítva az oldal.</p>
  </div>

  <script>
    const cardMeanings = {
      1: "Nap és Hold. Alapjelentés: A benned és körülötted lévő egyensúly tükre – a világos és a sötét, a tudatos és a tudattalan találkozása. Érzelmi-energetikai szint: Lelki kettősséged jelenik meg: nappal a racionális éned, éjjel az álmaid üzennek. Ha kibillent vagy, ez a lap figyelmeztet rá. Cselekvési tanács: Figyelj az egyensúlyra! Most ne hozz végletes döntéseket. Meditáció, befelé figyelés segíthet visszatalálni önmagadhoz.",
      2: "Föld. Alapjelentés: Stabilitás, biztonság, anyaföld ölelése. Érzelmi-energetikai szint: A mélyben gyökerező érzelmek, a higgadt belső bölcsesség és a kétely küzdelme. Cselekvési tanács: Ha most túl földhözragadt vagy, nyiss a kreativitás felé. Ha szétcsúsztál, ideje lehorgonyozni: írj listát, rendezd a teret magad körül.",
      3: "Tűz. Alapjelentés: Szenvedély, teremtőerő, lobbanás – de akár pusztulás is. Érzelmi-energetikai szint: Ég benned valami. Vágy, harag, inspiráció – de mi hajt valójában? A tűz belülről perzsel vagy kifelé tör? Cselekvési tanács: Ne hagyd, hogy a tűz elégessen – használd inkább gyújtóerőként! Alkoss, mozogj, vezess le energiát biztonságos csatornákon.",
      4: "Víz. Alapjelentés: Érzelem, bőség, tisztulás. Az élet esszenciája. Érzelmi-energetikai szint: A benned hullámzó érzések most felerősödhetnek. A víz gyengéden ringat vagy eláraszt – hallgasd meg a lelked. Cselekvési tanács: Engedd meg magadnak a sírást, a lazítást, a gyógyulást. Ne zárd el a folyamatot – minden könny egy felszabadulás.",
      5: "Fém. Alapjelentés: Siker, aratás, érettség, stabilitás – de néha túlzott kontroll is. Érzelmi-energetikai szint: Most erőd van. Összeszedettség, koncentráció, fegyelem – de nem mindenhez kell vasakarat. Cselekvési tanács: Légy tudatos az értékeidre. Hálával fogadd a sikereket, de ne zárd le magad a spontaneitás elől.",
      6: "Fa. Alapjelentés: Növekedés, teremtés, kibontakozás. Érzelmi-energetikai szint: Belső hajtásaid most erősödnek – alkotnál, tanulnál, nyílnál. De lehet, hogy a türelmetlenség is veled van. Cselekvési tanács: Tartsd szem előtt: a fának idő kell a növekedéshez. Lépésről lépésre haladj, ne siettesd, ami még bimbó.",
      7: "Börtön. Alapjelentés: Bezártság, korlátozás, lelki gát, elfojtás. Érzelmi-energetikai szint: Korlátozod magad – vagy valami kívülről akadályoz? Az igazi kulcs belül van. Cselekvési tanács: Ne félj megnézni a zárat – gyakran csak egy döntés választ el a szabadulástól.", 
      8: "Halál. Alapjelentés: Vég, átalakulás, elengedés, új kezdet. Érzelmi-energetikai szint: Valami mélyen benned véget ér – de nem üresség jön, hanem átalakulás. A régi meghal, hogy az új megszülessen. Cselekvési tanács: Engedd el, amit már nem szolgál. Most nem küzdeni, hanem átváltozni kell.", 
      9: "Gyermek. Alapjelentés: Ártatlanság, őszinteség, újrakezdés, születés. Érzelmi-energetikai szint: A belső gyermeked hangja erősebb lehet most. Vágy az egyszerűségre, tiszta kapcsolódásra. Cselekvési tanács: Engedd meg magadnak az őszinteséget és a játékot. Ne bonyolítsd túl, ami szívből jön.",
      10: "Doktor. Alapjelentés: Gyógyulás, problémamegoldás, önreflexió. Érzelmi-energetikai szint: Testi-lelki jelzés. Valami figyelmet kér benned – belül vagy kívül. Cselekvési tanács: Vizsgáld meg, hol van benned egyensúlytalanság. Ne halogasd a gyógyulás útját – akár egy beszélgetés, akár egy változás révén.",
      11: "Temető. Alapjelentés: Lezárás, veszteség, békére lelés. Érzelmi-energetikai szint: A múlt súlya már nem fér a jelenbe. De a gyász megengedése hozza el a békét. Cselekvési tanács: Ne tartsd bent. Írd ki, sírd ki, engedd el. Akkor tud elcsendesedni, ha elbúcsúzol.",
      12: "Nő. Alapjelentés: Érzékenység, női energia, csábítás, érzelmi kapcsolódás. Érzelmi-energetikai szint: Benned vagy körülötted női minőség ébred. Intuíció, gyengédség, de figyelj a határokra is. Cselekvési tanács: Légy őszinte magaddal – mit érzel, mire vágysz. Ne félj megmutatni sebezhetőségedet.",
      13: "Férfi. Alapjelentés: Erő, biztonság, határozottság, férfi energia. Érzelmi-energetikai szint: A cselekvőerő hív. Itt az idő kiállni, dönteni, határozottnak lenni – de ne elnyomó módon. Cselekvési tanács: Tartsd kézben az irányítást – de ne feledd, az erő legmélyebb formája a felelősség.",
      14: "Szív. Alapjelentés: Szerelem, kötődés, érzelem, szeretet. Érzelmi-energetikai szint: Szeretnél mélyen kapcsolódni. A szíved kinyílt vagy épp gyógyulni vágyik. Cselekvési tanács: Beszélj őszintén az érzéseidről. Szeress, de ne kapaszkodj.",
      15: "Hulló falevél. Alapjelentés: Múlt, búcsú, elengedés, szorongás. Érzelmi-energetikai szint: Valami visszahúz. Egy emlék, veszteség vagy bűntudat akadályoz. Cselekvési tanács: Ne cipeld, amit már nem tudsz megváltoztatni. A levél hullása is a természet rendje.",
      16: "Ellenség. Alapjelentés: Árulás, kétszínűség, belső konfliktus, önszabotázs. Érzelmi-energetikai szint: Valaki vagy valami akadályoz – kívül vagy belül. Vizsgálj meg minden gyanút! Cselekvési tanács: Ne engedd, hogy a bizalmatlanság vezessen. Inkább ismerd fel, ki vagy mi nem őszinte.",
      17: "Homokóra. Alapjelentés: Idő, sors, türelem, várakozás, ciklus. Érzelmi-energetikai szint: Az idő sürgethet – vagy épp késlekedni látszik. De a ritmus most fontosabb, mint a gyorsaság. Cselekvési tanács: Légy jelen a mostban. Figyelj, mikor jön az igazi pillanat a lépésre.",
      18: "Hajó. Alapjelentés: Utazás, áramlás, új kezdet, távolság. Érzelmi-energetikai szint: Útra kelsz – belül vagy kívül. Lehet, hogy búcsúzol, lehet, hogy új világba hajózol. Cselekvési tanács: Bízz a mozgásban. Az áramlás most visz valahová – csak ne hagyd el a kormányt.",
    };

    let currentCardText = ""; // Tárolja az utoljára kihúzott kártya szövegét
    const infoSection = document.getElementById("infoSection");

    function drawCard() {
      // Bezárja a beállítási útmutatót, ha nyitva van
      if (infoSection.classList.contains("visible")) {
        infoSection.classList.remove("visible");
      }

      const drawnNumber = Math.floor(Math.random() * 18) + 1;
      const imageSource = drawnNumber + '.png'; // Feltételezve, hogy a képek a gyökérkönyvtárban vannak
      currentCardText = cardMeanings[drawnNumber]; // Elmentjük a szöveget

      document.getElementById("cardDisplay").innerHTML =
        '<img src="' + imageSource + '" alt="Kártya Képe">';

      document.getElementById("cardText").innerText = currentCardText;
      document.getElementById("respeakButton").style.display = "inline-block"; // Mutatjuk az újra felolvasás gombot

      speakText(currentCardText);
    }

    function respeakCard() {
      if (currentCardText) { // Csak akkor olvassa újra, ha van elmentett szöveg
        speakText(currentCardText);
      }
    }

    function speakText(text) {
      if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel(); // Előző felolvasás leállítása

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'hu-HU'; // Magyar nyelv beállítása

        // Opcionális: Hang kiválasztása, ha több magyar hang van (pl. Google TTS)
        // Az alábbi rész kikommentelve marad, mert a böngésző általában automatikusan kiválasztja a megfelelő nyelvet, ha telepítve van.
        // window.speechSynthesis.getVoices().forEach(voice => {
        //   if (voice.lang === 'hu-HU' || (voice.lang.startsWith('hu-') && voice.name.includes('Google'))) {
        //     utterance.voice = voice;
        //   }
        // });
        
        window.speechSynthesis.speak(utterance);
      } else {
        console.warn("A beszédszintézis nem támogatott ebben a böngészőben.");
        alert("A beszédszintézis (hangfelolvasás) nem támogatott ebben a böngészőben, vagy nincs megfelelően beállítva. Kérjük, ellenőrizze a lenti útmutatót!");
      }
    }

    // Hangok betöltése a speech synthesis service-től (fontos a hang kiválasztásához)
    window.speechSynthesis.onvoiceschanged = () => {
      // Ez a függvény akkor fut le, amikor a böngésző betöltötte a hangokat.
      // Esetleg itt lehetne beállítani az utterance.voice-t, ha több hang közül kell választani.
    };

    // Új funkció a beállítási útmutató megjelenítéséhez/elrejtéséhez
    function toggleInfo() {
      infoSection.classList.toggle("visible"); // Hozzáadja/elveszi a 'visible' osztályt
    }
  </script>
</body>
</html>
